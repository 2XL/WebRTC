/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */


'use strict';




/** PARAMETERS **/

var sendChannel;




/** ELEMENT IDENTIFIER TO OBJECT **/

var sendButton = document.getElementById("sendButton");
var sendTextarea = document.getElementById("dataChannelSend");
var receiveTextarea = document.getElementById("dataChannelReceive");



/** APPEND FUNCTION TO OBJECT ONCLICK LISTENER **/

sendButton.onclick = sendData;

/** SYSTEM STATUS INDICATORS **/

var isChannelReady;
var isInitiator;
var isStarted;
var localStream;
var pc;
var remoteStream;
var turnReady;

/** SYSTEM SETTING CONFIGURATIONS **/ 

var pc_config = webrtcDetectedBrowser === 'firefox' ?
  {'iceServers':[{'url':'stun:23.21.150.121'}]} : // number IP
  {'iceServers': [{'url': 'stun:stun.l.google.com:19302'}]};

var pc_constraints = {
  'optional': [
    {'DtlsSrtpKeyAgreement': true},
    {'RtpDataChannels': true}
  ]};

// Set up audio and video regardless of what devices are present.
var sdpConstraints = {'mandatory': {
  'OfferToReceiveAudio':true,
  'OfferToReceiveVideo':true }};

// https://github.com/muaz-khan/WebRTC-Experiment/tree/master/MultiRTC-simple
// https://www.webrtc-experiment.com/RTCMultiConnection/MultiRTC/


var room = location.pathname.substring(1);
if(room === ''){
    room = 'episode7';
    
}else{
    
}



var socket = io.connect();
if(room !== ''){
    console.log('create or join room', room);
    socket.emit('create or join', room);
}










































































































































































































































































































































































































































